(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{26:function(e,t,n){e.exports=n(38)},35:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),o=n.n(c),s=n(4),l=n(24),i=n(3),u=n(7),m=n(22),d={todos:[],isLoading:!1,isLoaded:!1,sortType:""},p=Object(u.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.isLoading,r=t.isLoaded,c=t.todos,o=t.sortType,s=t.id;switch(n){case"SET_LOADING":return Object(i.a)(Object(i.a)({},e),{},{isLoading:a});case"SET_LOADED":return Object(i.a)(Object(i.a)({},e),{},{isLoaded:r});case"LOAD_TODOS":return Object(i.a)(Object(i.a)({},e),{},{todos:c});case"SET_SORT_TYPE":return Object(i.a)(Object(i.a)({},e),{},{sortType:o});case"REMOVE_TODO":return Object(i.a)(Object(i.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==s}))});default:return e}}),Object(m.composeWithDevTools)()),b=(n(35),function(e){return e.todos}),f=function(e){return e.isLoading},O=function(e){return e.isLoaded},E=function(e){return e.sortType},j=function(e){return{type:"SET_LOADING",isLoading:e}},v=n(16),y=n.n(v),T=n(25),g=n(23),h="https://jsonplaceholder.typicode.com",N=function(){var e=Object(g.a)(y.a.mark((function e(){var t,n,a,r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([fetch("".concat(h,"/todos")).then((function(e){return e.json()})),fetch("".concat(h,"/users")).then((function(e){return e.json()}))]);case 2:return t=e.sent,n=Object(T.a)(t,2),a=n[0],r=n[1],c=a.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{user:r.find((function(t){return t.id===e.userId}))})})),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){var t=e.loadTodos;return r.a.createElement("button",{type:"button",className:"waves-effect waves-light btn-large mgb20",onClick:t},"load todos")},D=function(){return r.a.createElement("div",{className:"preloader-wrapper big active"},r.a.createElement("div",{className:"spinner-layer spinner-blue"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"}))))},_=n(13),k=function(e){var t=e.sortType,n=e.title,c=Object(s.b)(),o=Object(a.useCallback)((function(){return c({type:"SET_SORT_TYPE",sortType:t})}),[c,t]);return r.a.createElement("button",{type:"button",className:"waves-effect waves-light btn mgb20",onClick:o},n)},w=function(){return r.a.createElement("div",{className:"sort-panel"},r.a.createElement(k,{title:"sort by title",sortType:"title"}),r.a.createElement(k,{title:"sort by status",sortType:"status"}),r.a.createElement(k,{title:"sort by name",sortType:"name"}))},S=function(e){var t=e.id,n=e.title,c=e.completed,o=e.user,l=Object(s.b)(),i=Object(a.useCallback)((function(){return l({type:"REMOVE_TODO",id:t})}),[l,t]);return r.a.createElement("li",{key:t,className:"collection-item avatar"},r.a.createElement("img",{src:"https://materializecss.com/images/yuna.jpg",alt:"",className:"circle"}),r.a.createElement("span",{className:"title"},o.name),r.a.createElement("p",null,n),r.a.createElement("span",{className:"delete",onClick:i},"Delete todo"),r.a.createElement("i",{className:"secondary-content"},c?r.a.createElement("i",{className:"material-icons color-green"},"Completed"):r.a.createElement("i",{className:"material-icons color-red"},"In Process")))},C=function(e){var t=e.todos,n=Object(s.c)(E),c=Object(a.useMemo)((function(){return function(e,t){switch(t){case"title":return Object(_.a)(e).sort((function(e,t){return e.title.localeCompare(t.title)}));case"completed":return Object(_.a)(e).sort((function(e,t){return Number(e.completed)-Number(t.completed)}));case"name":return Object(_.a)(e).sort((function(e,t){return e.user.name.localeCompare(t.user.name)}));default:return e}}(t,n)}),[t,n]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null),r.a.createElement("ul",{className:"collection"},c.map((function(e){return r.a.createElement(S,Object.assign({},e,{key:e.id}))}))))},x=function(){var e=Object(s.b)(),t=Object(s.c)(b),n=Object(s.c)(f),c=Object(s.c)(O),o=Object(a.useMemo)((function(){return c&&t.length>0}),[c,t.length]),l=Object(a.useMemo)((function(){return!n&&!c}),[n,c]),i=Object(a.useCallback)((function(){e(j(!0)),setTimeout((function(){N().then((function(t){return e(function(e){return{type:"LOAD_TODOS",todos:e}}(t))})),e(j(!1))}),3e3),e({type:"SET_LOADED",isLoaded:!0})}),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"heading"},r.a.createElement("h1",null,"Redux list of TODOs"),l&&r.a.createElement(L,{loadTodos:i}),n&&r.a.createElement(D,null)),o&&r.a.createElement(C,{todos:t}))},A=function(){return r.a.createElement(s.a,{store:p},r.a.createElement(l.a,null,r.a.createElement(x,null)))};o.a.render(r.a.createElement(A,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.de66cfcd.chunk.js.map