(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{26:function(e,t,a){e.exports=a(38)},35:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),s=a(4),l=a(24),i=a(7),u=a(3),m=a(8),d=a(22),p={todos:[],isLoading:!1,isLoaded:!1,sortType:""},f=Object(m.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.isLoading,r=t.isLoaded,c=t.todos,o=t.sortType,s=t.id;switch(a){case"SET_LOADING":return Object(u.a)(Object(u.a)({},e),{},{isLoading:n});case"SET_LOADED":return Object(u.a)(Object(u.a)({},e),{},{isLoaded:r});case"LOAD_TODOS":return Object(u.a)(Object(u.a)({},e),{},{todos:c});case"SET_SORT_TYPE":return Object(u.a)(Object(u.a)({},e),{},{sortType:o});case"REMOVE_TODO":return Object(u.a)(Object(u.a)({},e),{},{todos:Object(i.a)(e.todos).filter((function(e){return e.id!==s}))});default:return e}}),Object(d.composeWithDevTools)()),b=(a(35),function(e){return e.todos}),E=function(e){return e.isLoading},O=function(e){return e.isLoaded},j=function(e){return e.sortType},v=function(e){return{type:"SET_LOADING",isLoading:e}},y=a(16),T=a.n(y),g=a(25),h=a(23),N="https://jsonplaceholder.typicode.com",L=function(){var e=Object(h.a)(T.a.mark((function e(){var t,a,n,r,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([fetch("".concat(N,"/todos")).then((function(e){return e.json()})),fetch("".concat(N,"/users")).then((function(e){return e.json()}))]);case 2:return t=e.sent,a=Object(g.a)(t,2),n=a[0],r=a[1],c=n.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{user:r.find((function(t){return t.id===e.userId}))})})),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(e){var t=e.loadTodos;return r.a.createElement("button",{type:"button",className:"waves-effect waves-light btn-large mgb20",onClick:t},"load todos")},_=function(){return r.a.createElement("div",{className:"preloader-wrapper big active"},r.a.createElement("div",{className:"spinner-layer spinner-blue"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"}))))},w=function(e){var t=e.sortType,a=e.title,n=Object(s.b)();return r.a.createElement("button",{type:"button",className:"waves-effect waves-light btn mgb20",onClick:function(){return n({type:"SET_SORT_TYPE",sortType:t})}},a)},S=function(){return r.a.createElement("div",{className:"sort-panel"},r.a.createElement(w,{title:"sort by title",sortType:"title"}),r.a.createElement(w,{title:"sort by status",sortType:"status"}),r.a.createElement(w,{title:"sort by name",sortType:"name"}))},k=function(e){var t=e.id,a=e.title,n=e.completed,c=e.user,o=Object(s.b)();return r.a.createElement("li",{key:t,className:"collection-item avatar"},r.a.createElement("img",{src:"https://materializecss.com/images/yuna.jpg",alt:"",className:"circle"}),r.a.createElement("span",{className:"title"},c.name),r.a.createElement("p",null,a),r.a.createElement("span",{className:"delete",onClick:function(){return o({type:"REMOVE_TODO",id:t})}},"Delete todo"),r.a.createElement("i",{className:"secondary-content"},n?r.a.createElement("i",{className:"material-icons color-green"},"Completed"):r.a.createElement("i",{className:"material-icons color-red"},"In Process")))},C=function(e){var t=e.todos,a=Object(s.c)(j),c=Object(n.useMemo)((function(){return function(e,t){switch(t){case"title":return Object(i.a)(e).sort((function(e,t){return e.title.localeCompare(t.title)}));case"completed":return Object(i.a)(e).sort((function(e,t){return Number(e.completed)-Number(t.completed)}));case"name":return Object(i.a)(e).sort((function(e,t){return e.user.name.localeCompare(t.user.name)}));default:return e}}(t,a)}),[t,a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement("ul",{className:"collection"},c.map((function(e){return r.a.createElement(k,Object.assign({},e,{key:e.id}))}))))},x=function(){var e=Object(s.b)(),t=Object(s.c)(b),a=Object(s.c)(E),c=Object(s.c)(O),o=c&&t.length>0,l=!a&&!c,i=Object(n.useCallback)((function(){e(v(!0)),setTimeout((function(){L().then((function(t){return e(function(e){return{type:"LOAD_TODOS",todos:e}}(t))})),e(v(!1))}),3e3),e({type:"SET_LOADED",isLoaded:!0})}),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"heading"},r.a.createElement("h1",null,"Redux list of TODOs"),l&&r.a.createElement(D,{loadTodos:i}),a&&r.a.createElement(_,null)),o&&r.a.createElement(C,{todos:t}))},A=function(){return r.a.createElement(s.a,{store:f},r.a.createElement(l.a,null,r.a.createElement(x,null)))};o.a.render(r.a.createElement(A,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.5eda8ff9.chunk.js.map